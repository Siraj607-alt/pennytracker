<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
   <!-- your existing CSS file -->
  <style>
    :root{
      --bg:#f4f6fb;
      --card:#fff;
      --accent:#4A90E2;
      --accent-dark:#357ABD;
      --success:#28a745;
      --muted:#6b7280;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    body {
  margin: 0;
  min-height: 100vh;

  /* Background image */
  background-image: url('/images/default.png');
  background-size: cover;          /* fills the screen */
  background-position: center;     /* center the image */
  background-repeat: no-repeat;    /* no tiling */

  /* fallback color if image fails */
  background-color: #0f172a;
}


   .page-wrapper {
  min-height: 100vh;
  display: flex;
  flex-direction: column;   /* STACK VERTICALLY */
  align-items: center;
  justify-content: center;
}

    .title-container {
    position: absolute;
    top: 40px;
    width: 100%;
    display: flex;
    justify-content: center;
}

.main-title {
    /* KEEP your original text styling */
    font-size: 52px;
    font-weight: 900;
    letter-spacing: 2px;
    color: #ffffff;
    text-shadow:
        0px 2px 2px rgba(0, 0, 0, 0.5),
        0px 4px 4px rgba(0, 0, 0, 0.4),
        0px 6px 6px rgba(0, 0, 0, 0.3),
        0px 8px 8px rgba(0, 0, 0, 0.2),
        0px 10px 10px rgba(0, 0, 0, 0.15);
    background: linear-gradient(90deg, #ffffff, #d8d8d8, #ffffff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: float 3s ease-in-out infinite;

    /* SIMPLE LEAF BACKGROUND */
    display: inline-block;
    padding: 18px 34px;
    background: #4CAF50;           /* Simple green like a leaf */
    border-radius: 60% 60% 50% 50% / 55% 55% 45% 45%;
    /* This gives a soft leaf-like shape */

    /* Optional slight shadow */
    box-shadow: 0 6px 18px rgba(0,0,0,0.25);
}

/* Floating effect */
@keyframes float {
    0%   { transform: translateY(0); }
    50%  { transform: translateY(-10px); }
    100% { transform: translateY(0); }
}
.card {
    width: 420px;
    padding: 32px 30px;

    /* Glass + darker background to increase visibility */
    background: rgba(0, 0, 0, 0.45);   /* <-- THIS makes the form visible on bright images */
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);

    /* White border (thin) */
    border: 1.6px solid rgba(255, 255, 255, 0.85);

    /* Neon glow */
    box-shadow:
        0 0 8px rgba(0, 200, 255, 0.7),
        0 0 15px rgba(0, 200, 255, 0.5),
        0 0 25px rgba(0, 200, 255, 0.35);

    border-radius: 16px;
    text-align: center;
}



    h1{
      margin:0 0 12px 0;
      font-size:20px;
      color:#111827;
      letter-spacing:0.2px;
    }
    p.subtitle{
      margin:0 0 20px 0;
      color:var(--muted);
      font-size:13px;
    }

    form .field{
      position:relative;
      margin-bottom:20px;
    }

    label{
      display:block;
      font-size:13px;
      color:#374151;
      margin-bottom:8px;
    }

    input[type="text"],
    input[type="date"],
    input[type="email"]{
      width:100%;
      padding:12px 14px;
      border-radius:10px;
      border:1px solid #e6e9ef;
      background:linear-gradient(180deg,#fff,#fbfdff);
      font-size:14px;
      outline:none;
      transition: box-shadow .12s ease, border-color .12s ease, transform .06s ease;
      box-sizing:border-box;
    }

    /* focus effect */
    input:focus{
      border-color:var(--accent);
      box-shadow:0 6px 18px rgba(74,144,226,0.12);
      transform: translateY(-1px);
    }

    /* hint / validation area under each input */
    .validation {
      height:18px;
      margin-top:8px;
      display:flex;
      align-items:center;
      gap:8px;
      font-size:13px;
      color:var(--muted);
    }

    /* tick icon container */
    .tick {
      width:18px;
      height:18px;
      border-radius:50%;
      display:inline-grid;
      place-items:center;
      background:transparent;
      transform:scale(0.2);
      opacity:0;
      transition: all .18s cubic-bezier(.2,.9,.3,1);
    }
    /* Field Wrapper */
.field {
  margin-bottom: 22px;
  width: 100%;
  max-width: 380px;
  position: relative;
}

/* Label */
.field label {
  display: block;
  margin-bottom: 6px;
  font-weight: 600;
  color: #1c1c1e;
  font-size: 14px;
}

/* Input Box */
.field input {
  width: 100%;
  padding: 12px 14px;
  border-radius: 8px;
  border: 1.5px solid #d0d0d0;
  font-size: 15px;
  transition: all 0.25s ease;
  background: #fafafa;
}

.field input:focus {
  border-color: #4b73ff;
  box-shadow: 0 0 0 3px rgba(75, 115, 255, 0.15);
  outline: none;
}


    /* when valid, show tick */
    .tick.show {
      transform:scale(1);
      opacity:1;
      background:linear-gradient(135deg,var(--success), #1f9a3a);
      box-shadow: 0 6px 18px rgba(34,197,94,0.15), inset 0 -4px 10px rgba(0,0,0,0.05);
    }

    .tick svg{ width:12px;height:12px; fill:white; transform:translateY(1px); }

    /* success text */
    .ok { color:var(--success); font-weight:600; font-size:13px; opacity:0; transform:translateX(-4px); transition:all .15s ease;}
    .ok.show { opacity:1; transform:translateX(0); }

    /* error text */
    .error { color:#e11d48; font-size:13px; opacity:0; transform:translateX(-4px); transition:all .15s ease; }
    .error.show { opacity:1; transform:translateX(0); }

    /* submit */
    button[type="submit"]{
      width:100%;
      padding:12px;
      border-radius:10px;
      border:0;
      background:var(--accent);
      color:white;
      font-weight:600;
      font-size:15px;
      cursor:pointer;
      box-shadow: 0 8px 24px rgba(53,122,189,0.12);
      transition:background .12s ease, transform .06s ease;
    }
    button[type="submit"]:active{ transform:translateY(1px); }
    button[type="submit"]:hover{ background:var(--accent-dark); }

    .small{
      margin-top:12px;
      font-size:13px;
      color:var(--muted);
      text-align:center;
    }

    /* small responsive */
    @media (max-width:420px){
      .card{ width:92%; padding:20px; }
    }
    .popup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.35);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 999;
    animation: fadeIn 0.3s ease-out forwards;
}

.popup-content {
    background: white;
    padding: 30px 40px;
    border-radius: 18px;
    text-align: center;
    box-shadow: 0 8px 24px rgba(0,0,0,0.15);
    animation: scaleIn 0.3s ease-out forwards;
}

.tick {
    font-size: 60px;
    color: #28a745;
    font-weight: bold;
    margin-bottom: 10px;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
}

@keyframes scaleIn {
    from { transform: scale(0.7); opacity: 0; }
    to   { transform: scale(1); opacity: 1; }
}
/* ===== SIGNUP TOP BANNER (NO CONFLICT) ===== */
.signup-banner {
  width: 420px;
  margin: 0 auto 14px auto;
  padding: 14px 20px;

  /* Strong green glass look */
  background: rgba(34, 197, 94, 0.75);   /* clearly visible green */
  border-radius: 14px;

  border: 1.5px solid rgba(255, 255, 255, 0.45);

  box-shadow:
    0 8px 20px rgba(0, 0, 0, 0.35),
    inset 0 1px 2px rgba(255, 255, 255, 0.35);

  text-align: center;
}

.signup-banner p {
  margin: 0;
  font-size: 15px;
  font-weight: 600;

  /* Text inside green glass */
  color: #f0fff4;
  letter-spacing: 0.4px;
}
/* ===== ALL FORM TEXT WHITE ===== */
.card,
.card h1,
.card h2,
.card p,
.card label,
.card .small {
  color: #ffffff !important;
}

/* ===== LOGIN LINK WHITE ===== */
.card .small a,
.card .small a:link,
.card .small a:visited,
.card .small a:hover,
.card .small a:active {
  color: #ffffff !important;
  text-decoration: underline;
}

/* ===== ERROR / VALIDATION TEXT (RED) ===== */
.card .error {
  color: #ff4d4f !important;   /* red */
  font-weight: 600;
}

/* ===== SUCCESS VALIDATION (GREEN) ===== */
.card .ok {
  color: #22c55e !important;   /* green */
  font-weight: 600;
}

/* ===== PLACEHOLDERS (SOFT WHITE) ===== */
.card input::placeholder {
  color: rgba(255, 255, 255, 0.65);
}
/* ===== POPUP TEXT VISIBILITY FIX ===== */
.popup-content,
.popup-content p {
  color: #111827 !important;   /* dark text */
}

/* Optional: success message emphasis */
.popup-content p:first-child {
  font-weight: 600;
}


  </style>
</head>

<div class="page-wrapper">

  <div class="signup-banner">
    <p>Welcome â€” please sign up to continue</p>
  </div>

<div class="card">
  <h1>Create Account</h1>
  <!-- SUCCESS POPUP -->
  <div th:if="${signupSuccess}" id="successPopup" class="popup">
    <div class="popup-content">
      <div class="tick">&#10004;</div>
      <p>Signup Successful!</p>
      <p style="font-size:14px; margin-top:-5px;">Redirecting to login...</p>
    </div>
  </div>
  <!-- DUPLICATE EMAIL POPUP -->
  <div th:if="${signupExists}" id="existsPopup" class="popup">
    <div class="popup-content" style="border-left: 5px solid #ff4444;">
      <div class="tick" style="color:#ff4444;">&#10006;</div>
      <p>Email already registered!</p>
      <p style="font-size:14px; margin-top:-5px;">Redirecting to login...</p>
    </div>
  </div>



  <form id="signupForm" action="/signup" method="POST" novalidate>

    <!-- EMAIL -->
    <div class="field">
      <label for="email">Gmail</label>
      <input id="email" name="email" type="email" placeholder="yourname@gmail.com" required />

      <div class="validation">
        <div class="tick" id="tick-email"><svg viewBox="0 0 24 24"><path d="M20.285 6.709a1 1 0 0 0-1.414-1.418L9 15.17 5.129 11.3a1 1 0 1 0-1.415 1.415l4.293 4.293a1 1 0 0 0 1.414 0L20.285 6.71z"/></svg></div>
        <div class="ok" id="ok-email">Looks good</div>
        <div class="error" id="err-email">Enter a valid Gmail address</div>
      </div>
    </div>

    <!-- PASSWORD -->
    <div class="field">
      <label for="password">Password</label>
      <input id="password" name="password" type="password" placeholder="Minimum 6 characters" required>

      <div class="validation">
        <div class="tick" id="tick-password"><svg viewBox="0 0 24 24"><path d="M20.285 6.709a1 1 0 0 0-1.414-1.418L9 15.17 5.129 11.3a1 1 0 1 0-1.415 1.415l4.293 4.293a1 1 0 0 0 1.414 0L20.285 6.71z"/></svg></div>
        <div class="ok" id="ok-password">Good password</div>
        <div class="error" id="err-password">Password must be 6+ characters</div>
      </div>
    </div>

    <!-- CONFIRM PASSWORD -->
    <div class="field">
      <label for="confirm">Confirm Password</label>
      <input id="confirm" type="password" placeholder="Repeat password" required>

      <div class="validation">
        <div class="tick" id="tick-confirm"><svg viewBox="0 0 24 24"><path d="M20.285 6.709a1 1 0 0 0-1.414-1.418L9 15.17 5.129 11.3a1 1 0 1 0-1.415 1.415l4.293 4.293a1 1 0 0 0 1.414 0L20.285 6.71z"/></svg></div>
        <div class="ok" id="ok-confirm">Passwords match</div>
        <div class="error" id="err-confirm">Passwords do not match</div>
      </div>
    </div>

    <button type="submit">Sign Up</button>

    <p class="small">
      Already have an account?
      <a href="/doLogin">Login</a>
    </p>

  </form>
</div>
</div>

<script src="/images/signup.js"></script>


</body>
</html>
