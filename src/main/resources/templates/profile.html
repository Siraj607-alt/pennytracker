<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<style>
  body {
    background: radial-gradient(
        circle at top left,
        #dbeafe 0%,
        #eef2ff 35%,
        #f5f6fa 100%
    );
}

  /* =========================
   PROFILE HEADER
========================= */
.profile-header {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 35px;
    padding: 18px 22px;
    background: rgba(255,255,255,0.65);
    backdrop-filter: blur(14px);
    border-radius: 18px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);

}

/* =========================
   AVATAR
========================= */
.avatar {
    width: 64px;
    height: 64px;
    background: linear-gradient(135deg, #4A90E2, #6CB2FF);
    color: white;
    font-size: 26px;
    font-weight: 800;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    box-shadow: 0 6px 16px rgba(74,144,226,0.45);
}

/* =========================
   STATS GRID (WALLET | SPEND | GOALS)
========================= */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 22px;
    margin-bottom: 35px;
}

/* =========================
   STAT CARD
========================= */
.stat-card {
    background: rgba(255, 255, 255, 0.45); /* stronger glass */
    backdrop-filter: blur(22px);
    -webkit-backdrop-filter: blur(22px);

    padding: 22px;
    border-radius: 20px;

    box-shadow:
        0 12px 34px rgba(0,0,0,0.12),
        inset 0 1px 0 rgba(255,255,255,0.9);

    transition: transform 0.25s ease, box-shadow 0.25s ease;
}

.stat-card:hover {
    transform: translateY(-5px);
    box-shadow:
        0 18px 48px rgba(0,0,0,0.16),
        inset 0 1px 0 rgba(255,255,255,1);
}


.stat-card label {
    font-size: 13px;
    color: #6b7280;
    display: block;
    margin-bottom: 6px;
}

.stat-card h2 {
    margin: 0;
    font-size: 26px;
    font-weight: 800;
    color: #2563eb;
}

/* =========================
   GENERIC CARD SECTIONS
========================= */
.card {
    background: rgba(255, 255, 255, 0.45); /* same glass as stats */
    backdrop-filter: blur(22px);
    -webkit-backdrop-filter: blur(22px);

    padding: 26px;
    border-radius: 22px;
    margin-bottom: 28px;

    box-shadow:
        0 12px 34px rgba(0,0,0,0.12),
        inset 0 1px 0 rgba(255,255,255,0.9);
}


.card h3 {
    margin-top: 0;
    font-size: 18px;
    font-weight: 700;
    color: #1f2937;
    margin-bottom: 14px;
}

/* =========================
   MUTED TEXT
========================= */
.muted {
    color: #6b7280;
    font-size: 13px;
    line-height: 1.5;
}

/* =========================
   DANGER / LOGOUT / DELETE LINKS
========================= */
.danger-link {
    color: #e63946;
    font-weight: 600;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 6px;
}

.danger-link:hover {
    text-decoration: underline;
    color: #c92a2a;
}

/* =========================
   RESPONSIVE
========================= */
@media (max-width: 900px) {
    .stats-grid {
        grid-template-columns: 1fr;
    }

    .profile-header {
        flex-direction: column;
        align-items: flex-start;
    }
}
/* Center wrapper */
.back-center-wrapper {
    display: flex;
    justify-content: center;
    margin: 40px 0 20px;
}

/* Premium fintech button */
.back-dashboard-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;

    padding: 14px 36px;
    font-size: 16px;
    font-weight: 700;

    color: #1f2937;
    text-decoration: none;

    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);

    border-radius: 16px;
    border: 1px solid rgba(255,255,255,0.6);

    box-shadow:
        0 10px 30px rgba(0,0,0,0.12),
        inset 0 1px 0 rgba(255,255,255,0.7);

    transition:
        transform 0.25s ease,
        box-shadow 0.25s ease,
        background 0.25s ease;
}

/* Hover = confident lift */
.back-dashboard-btn:hover {
    transform: translateY(-3px);
    background: rgba(255, 255, 255, 0.95);
    box-shadow:
        0 16px 40px rgba(0,0,0,0.18),
        inset 0 1px 0 rgba(255,255,255,0.8);
}

/* Click feedback */
.back-dashboard-btn:active {
    transform: translateY(-1px);
}

</style>
<body>
<div class="profile-header">
  <div class="avatar">
    <span th:text="${user.email.substring(0,1).toUpperCase()}"></span>
  </div>


  <div>
    <h2 th:text="${user.email}"></h2>
    <p class="status">üü¢ Active Account</p>
  </div>
</div>


<div class="stats-grid">

  <div class="stat-card">
    <label>Wallet Balance</label>
    <h3>‚Çπ<span th:text="${walletBalance}"></span></h3>
  </div>

  <div class="stat-card">
    <label>Total Spend</label>
    <h3>‚Çπ<span th:text="${totalSpend}"></span></h3>
  </div>

  <div class="stat-card">
    <label>Active Goals</label>
    <h3 th:text="${activeGoals}"></h3>
  </div>

</div>
<!-- VIEW MODE -->
<div class="card">
<div th:if="${editMode != true}">
  <p><strong>Profession:</strong> <span th:text="${user.profession}"></span></p>
  <p><strong>Monthly Income:</strong> ‚Çπ<span th:text="${user.monthlyIncome}"></span></p>
  <p><strong>Goal:</strong> <span th:text="${user.goal}"></span></p>

  <button onclick="window.location.href='/profile/edit'">
    Edit Profile
  </button>
</div>
</div>
<!-- EDIT MODE -->
<div th:if="${editMode == true}">
  <form action="/profile/update" method="post">

    <label>Profession</label>
    <input type="text" name="profession"
           th:value="${user.profession}" required>

    <label>Monthly Income</label>
    <input type="number" name="monthlyIncome"
           th:value="${user.monthlyIncome}" required>

    <label>Financial Goal</label>
    <input type="text" name="goal"
           th:value="${user.goal}" required>

    <button type="submit">Save Changes</button>
    <button type="button"
            onclick="window.location.href='/profile'">
      Cancel
    </button>
  </form>
</div>
</div>
<div class="card">
  <h3>Financial Preferences</h3>

  <p>‚Ä¢ Budget alerts</p>
  <p>‚Ä¢ Wallet low balance warning</p>
  <p>‚Ä¢ Goal completion reminders</p>

  <small class="muted">Preferences coming soon</small>
</div>
<div class="card">
  <h3>Account & Session</h3>

  <p>Logged in via session-based authentication</p>
  <p>Last login: <span th:text="${#dates.format(#dates.createNow(),'dd MMM yyyy')}"></span></p>

  <a href="/logout" class="danger-link">Logout</a>
</div>
<div class="card">
  <h3>Help & About</h3>

  <p>üìä Your financial data is private</p>
  <p>üîí No third-party data sharing</p>
  <p>üìû Support: support@pennytracker.app</p>

  <small>Version 1.0 ‚Ä¢ Built with Java & Spring</small>
</div>
<div class="back-center-wrapper">
  <a href="/dashboard" class="back-dashboard-btn">
    ‚Üê Back to Dashboard
  </a>
</div>




</body>
</html>